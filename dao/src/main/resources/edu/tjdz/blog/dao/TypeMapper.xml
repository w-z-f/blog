<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="edu.tjdz.blog.dao.TypeMapper">
  <resultMap id="BaseResultMap" type="edu.tjdz.blog.beans.bean.Type">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Nov 25 14:17:15 CST 2021.
    -->
      <result column="type_id" javaType="java.lang.Integer" jdbcType="INTEGER" property="typeId" />
      <result column="type" javaType="java.lang.String" jdbcType="VARCHAR" property="type" />

  </resultMap>

  <select id="getTypeByTypeId" resultMap="BaseResultMap">
    select * from type where type_id = #{type_id}
  </select>

  <select id="listTypeIdByType" resultType="Integer">
    select type_id from type where type like concat('%',#{type},'%') ;
  </select>

  <select id="listType" resultMap="BaseResultMap">
    select * from type;
  </select>

  <select id="getTypeByType" resultMap="BaseResultMap">
    select * from type where type= #{type};
  </select>

  <insert id="addType" keyProperty="typeId" useGeneratedKeys="true" parameterType="Type">

    insert into type values(#{typeId},#{type})
    <selectKey resultType="Integer" order="AFTER" keyProperty="typeId">
      SELECT LAST_INSERT_ID()
    </selectKey>
  </insert>


</mapper>